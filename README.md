# Telegram Bot SDK Laravel

–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π SDK –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è Telegram –±–æ—Ç–æ–≤ –Ω–∞ Laravel —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –º—É–ª—å—Ç–∏–±–æ—Ç–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –∏ –ø—Ä–æ—Å—Ç–æ–π –∏–∑–æ–ª—è—Ü–∏–∏ –æ–∫—Ä—É–∂–µ–Ω–∏–π.

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ü§ñ **–ú—É–ª—å—Ç–∏–±–æ—Ç–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** - –Ω–µ—Å–∫–æ–ª—å–∫–æ –±–æ—Ç–æ–≤ –≤ –æ–¥–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
- üîí **–ü—Ä–æ—Å—Ç–∞—è –∏–∑–æ–ª—è—Ü–∏—è –æ–∫—Ä—É–∂–µ–Ω–∏–π** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å—É—Ñ—Ñ–∏–∫—Å–∞ "dev" –∫ webhook URL
- üåç **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–æ–º–µ–Ω–æ–≤** - —Ä–∞–∑–Ω—ã–µ –¥–æ–º–µ–Ω—ã –¥–ª—è dev –∏ prod
- üîê **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–æ–≤ –∏ –¥–æ–º–µ–Ω–æ–≤
- üìä **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–¥–æ—Ä–æ–≤—å—è –±–æ—Ç–æ–≤
- üéØ **–ü—Ä–æ—Å—Ç–æ—Ç–∞** - –ø—Ä–æ—Å—Ç–æ–π API –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –±–æ—Ç–æ–≤

## üîí –ò–∑–æ–ª—è—Ü–∏—è –±–æ—Ç–æ–≤

### –ü—Ä–æ–±–ª–µ–º–∞
–£ –≤–∞—Å –µ—Å—Ç—å –¥–≤–∞ –±–æ—Ç–∞ —Å —Ä–∞–∑–Ω—ã–º–∏ —Ç–æ–∫–µ–Ω–∞–º–∏ (prod –∏ dev), –Ω–æ –æ–Ω–∏ –≤–ª–∏—è—é—Ç –¥—Ä—É–≥ –Ω–∞ –¥—Ä—É–≥–∞. –ö–æ–≥–¥–∞ –≤—ã –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç–µ `/start` –≤ prod –±–æ—Ç–µ, —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤ dev –±–æ—Ç–µ –∏ –Ω–∞–æ–±–æ—Ä–æ—Ç.

### –†–µ—à–µ–Ω–∏–µ
–ü—Ä–æ—Å—Ç–∞—è —Å–∏—Å—Ç–µ–º–∞ –∏–∑–æ–ª—è—Ü–∏–∏: –¥–ª—è dev –æ–∫—Ä—É–∂–µ–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è —Å—É—Ñ—Ñ–∏–∫—Å "dev" –∫ webhook URL.

#### –õ–æ–≥–∏–∫–∞ –∏–∑–æ–ª—è—Ü–∏–∏

1. **Prod –æ–∫—Ä—É–∂–µ–Ω–∏–µ**: `/webhook/mybot`
2. **Dev –æ–∫—Ä—É–∂–µ–Ω–∏–µ**: `/webhook/mybotdev`

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –æ–∫—Ä—É–∂–µ–Ω–∏–µ –ø–æ –Ω–∞–ª–∏—á–∏—é —Å—É—Ñ—Ñ–∏–∫—Å–∞ "dev" –≤ URL.

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
composer require your-vendor/telegram-bot-sdk-laravel
```

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –ü—É–±–ª–∏–∫–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

```bash
php artisan vendor:publish --tag=bot-config
```

### 2. –ú–∏–≥—Ä–∞—Ü–∏–∏

```bash
php artisan migrate
```

### 3. –°–æ–∑–¥–∞–Ω–∏–µ –±–æ—Ç–∞

```bash
php artisan bot:setup mybot
```

## ü§ñ –°–æ–∑–¥–∞–Ω–∏–µ –±–æ—Ç–∞

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –±–æ—Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∫–ª–∞—Å—Å:

```php
<?php

namespace App\Bots;

use App\Models\Bot;

class MyBot extends AbstractBot
{
    public function main(): void
    {
        $this->commands();
        
        if ($this->hasMessageText() && $this->isMessageCommand()) {
            $this->handleCommand($this->getMessageText());
        }
    }

    public function commands(): void
    {
        $this->registerCommand('start', function () {
            $environment = Bot::getCurrentEnvironment();
            $this->sendSelf("üéâ –ü—Ä–∏–≤–µ—Ç! –Ø –±–æ—Ç MyBot (–æ–∫—Ä—É–∂–µ–Ω–∏–µ: {$environment})");
        }, [
            'description' => '–ó–∞–ø—É—Å–∫ –±–æ—Ç–∞'
        ]);

        $this->registerCommand('help', function () {
            $this->sendSelf([
                'üìã –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:', 
                '', 
                '/start - –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞', 
                '/help - –ü–æ–º–æ—â—å'
            ]);
        }, [
            'description' => '–ü–æ–º–æ—â—å'
        ]);
    }
}
```

## üåç –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ–≤–æ–¥–æ–≤

```php
<?php

namespace App\Bots;

class MyBot extends AbstractBot
{
    use I18nModule;

    public function commands(): void
    {
        $this->registerCommand('start', function () {
            $keyboard = [
                [$this->translate('messages.button.start')],
                [$this->translate('messages.button.help')]
            ];
            
            $this->sendSelf($this->translate('messages.welcome'), $keyboard);
        });
    }
}
```

### –§–∞–π–ª—ã –ø–µ—Ä–µ–≤–æ–¥–æ–≤

```php
// resources/lang/en/messages.php
return [
    'welcome' => 'Welcome to our bot!',
    'button' => [
        'start' => 'Start',
        'help' => 'Help',
    ],
];
```

## üîç –ö–æ–º–∞–Ω–¥—ã

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –±–æ—Ç–∞
php artisan bot:setup mybot

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è
php artisan bot:health

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
php artisan bot:stats

# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
php artisan bot:config show
```

### Webhook

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ webhook
php artisan bot:webhook set mybot

# –£–¥–∞–ª–µ–Ω–∏–µ webhook
php artisan bot:webhook delete mybot

# –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ webhook
php artisan bot:webhook info mybot
```

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- üîê –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è webhook secrets
- üõ°Ô∏è –í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–æ–≤ –∏ –¥–æ–º–µ–Ω–æ–≤
- üîí –ü—Ä–æ–≤–µ—Ä–∫–∞ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
- üö´ –ó–∞—â–∏—Ç–∞ –æ—Ç —Å–ø–∞–º–∞ –∏ rate limiting
- üë• –°–∏—Å—Ç–µ–º–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
- üîí –ü—Ä–æ—Å—Ç–∞—è –∏–∑–æ–ª—è—Ü–∏—è –º–µ–∂–¥—É dev –∏ prod –æ–∫—Ä—É–∂–µ–Ω–∏—è–º–∏

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è –≤—Å–µ—Ö –±–æ—Ç–æ–≤
php artisan bot:health

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
php artisan bot:stats

# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
php artisan bot:config show
```

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–≤–æ–¥–æ–≤](I18N_USAGE.md)

## ü§ù –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License 

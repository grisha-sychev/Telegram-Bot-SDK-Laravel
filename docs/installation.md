# üîß –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ TegBot v2.0

## –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **PHP**: 8.1 –∏–ª–∏ –≤—ã—à–µ
- **Laravel**: 10.0 –∏–ª–∏ –≤—ã—à–µ  
- **Extensions**: cURL, JSON, OpenSSL
- **Memory**: –ú–∏–Ω–∏–º—É–º 128MB –¥–ª—è PHP
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: MySQL 5.7+, PostgreSQL 10+ –∏–ª–∏ SQLite 3.8+
- **–î–∏—Å–∫**: 100MB —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞

## –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–∞

```bash
composer require tegbot/tegbot
```

## –®–∞–≥ 2: –ü—É–±–ª–∏–∫–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

```bash
php artisan vendor:publish --provider="Teg\Providers\TegbotServiceProvider"
```

–≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ —Å–æ–∑–¥–∞—Å—Ç:
- `config/tegbot.php` - –æ—Å–Ω–æ–≤–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- `app/Bots/` - –ø–∞–ø–∫–∞ –¥–ª—è –≤–∞—à–∏—Ö –±–æ—Ç–æ–≤
- `routes/tegbot.php` - –º–∞—Ä—à—Ä—É—Ç—ã –¥–ª—è webhook'–æ–≤
- –ú–∏–≥—Ä–∞—Ü–∏–∏ –¥–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

## –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–î–æ–±–∞–≤—å—Ç–µ –≤ `.env`:

```env
# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ TegBot (–±–∞–∑–æ–≤—ã–µ)
TEGBOT_DEBUG=false
TEGBOT_WEBHOOK_SECRET=your_random_secret_key

# –ú—É–ª—å—Ç–∏–±–æ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
TEGBOT_MULTIBOT_ENABLED=true
TEGBOT_AUTO_CREATE_CLASSES=true
TEGBOT_MAX_BOTS=100

# Webhook –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
TEGBOT_WEBHOOK_BASE_URL=https://yourdomain.com
TEGBOT_AUTO_GENERATE_WEBHOOK_SECRET=true

# –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
TEGBOT_RATE_LIMIT=20
TEGBOT_LOG_LEVEL=info
```

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è webhook secret

```bash
php artisan tinker
>>> Str::random(32)
=> "your_generated_secret_key"
```

## –®–∞–≥ 4: –ó–∞–ø—É—Å–∫ –º–∏–≥—Ä–∞—Ü–∏–π

**‚ö†Ô∏è –í–ê–ñ–ù–û:** –í TegBot v2.0 —Ç–æ–∫–µ–Ω—ã –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ—Ç–æ–≤ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö!

```bash
php artisan migrate
```

–≠—Ç–æ —Å–æ–∑–¥–∞—Å—Ç —Ç–∞–±–ª–∏—Ü—É `tegbot_bots` –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≤–∞—à–∏—Ö –±–æ—Ç–æ–≤.

## –®–∞–≥ 5: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ –±–æ—Ç–∞

```bash
php artisan teg:set
```

–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ –ø–æ–º–æ–∂–µ—Ç:
- –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–≥–æ –±–æ—Ç–∞ –≤ —Å–∏—Å—Ç–µ–º—É
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—Ç—å –∫–ª–∞—Å—Å –±–æ—Ç–∞
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å webhook
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å Telegram API

### –ü—Ä–∏–º–µ—Ä –ø—Ä–æ—Ü–µ—Å—Å–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –±–æ—Ç–∞:

```
üöÄ TegBot Multi-Bot Setup Wizard

‚ûï –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –±–æ—Ç–∞

–í–≤–µ–¥–∏—Ç–µ –∏–º—è –±–æ—Ç–∞ (–ª–∞—Ç–∏–Ω—Å–∫–∏–µ –±—É–∫–≤—ã, –±–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤): myshop
–í–≤–µ–¥–∏—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ (–ø–æ–ª—É—á–µ–Ω–Ω—ã–π –æ—Ç @BotFather): 123456789:AABBccDDeeFFggHHiiJJkkLLmmNNooP
–í–≤–µ–¥–∏—Ç–µ ID –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é): 123456789

ü§ñ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–æ—Ç–µ:
  üìù –ò–º—è: My Shop Bot
  üÜî Username: @myshopbot
  üì° ID: 123456789

‚úÖ –ë–æ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
üìù –°–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∞—Å—Å–∞ –±–æ—Ç–∞ MyshopBot...
‚úÖ –ö–ª–∞—Å—Å –±–æ—Ç–∞ —Å–æ–∑–¥–∞–Ω: app/Bots/MyshopBot.php
üåê –ù–∞—Å—Ç—Ä–æ–π–∫–∞ webhook...
‚úÖ Webhook —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω: https://yourdomain.com/webhook/myshop
‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ TegBot –∑–∞–≤–µ—Ä—à–µ–Ω–∞!
```

## –®–∞–≥ 6: –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ –±–æ—Ç–∞

–ö–æ–º–∞–Ω–¥–∞ `teg:set` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—Å—Ç —Ñ–∞–π–ª `app/Bots/MyshopBot.php`:

```php
<?php

namespace App\Bots;

use Teg\LightBot;

class MyshopBot extends LightBot
{
    public function main(): void
    {
        // –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º –∫–æ–º–∞–Ω–¥—ã
        $this->commands();
        
        // –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –≤—Ö–æ–¥—è—â–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è
        if ($this->hasMessageText() && $this->isMessageCommand()) {
            $this->handleCommand($this->getMessageText);
        } else {
            // –ï—Å–ª–∏ —ç—Ç–æ –Ω–µ –∫–æ–º–∞–Ω–¥–∞, –≤—ã–∑—ã–≤–∞–µ–º fallback
            $this->fallback();
        }
    }

    public function commands(): void
    {
        $this->registerCommand('start', function () {
            $this->sendSelf('üéâ –ü—Ä–∏–≤–µ—Ç! –Ø –±–æ—Ç myshop');
        }, [
            'description' => '–ó–∞–ø—É—Å–∫ –±–æ—Ç–∞'
        ]);

        $this->registerCommand('help', function () {
            $this->sendSelf('üìã –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:\n/start - –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞\n/help - –ü–æ–º–æ—â—å');
        }, [
            'description' => '–ü–æ–º–æ—â—å'
        ]);
    }

    public function fallback(): void
    {
        $this->sendSelf('‚ùì –ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ /help –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø—Ä–∞–≤–∫–∏.');
    }
}
```

## –®–∞–≥ 7: –ú–∞—Ä—à—Ä—É—Ç—ã webhook'–æ–≤ (—É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã)

–§–∞–π–ª `routes/tegbot.php` —É–∂–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã:

```php
<?php

use Illuminate\Support\Facades\Route;
use App\Models\Bot;

// –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç –¥–ª—è –º—É–ª—å—Ç–∏–±–æ—Ç–æ–≤
Route::post('/webhook/{botName}', function ($botName) {
    // –ó–∞–≥—Ä—É–∂–∞–µ–º –±–æ—Ç–∞ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
    $botModel = Bot::byName($botName)->where('enabled', true)->first();
    
    if (!$botModel) {
        return response()->json(['error' => 'Bot not found'], 404);
    }

    // –°–æ–∑–¥–∞–µ–º —ç–∫–∑–µ–º–ø–ª—è—Ä –∫–ª–∞—Å—Å–∞ –±–æ—Ç–∞
    $class = $botModel->getBotClass();
    $bot = new $class();
    
    // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
    $bot->setToken($botModel->token);
    $bot->setBotName($botName);
    
    // –ó–∞–ø—É—Å–∫–∞–µ–º –æ–±—Ä–∞–±–æ—Ç–∫—É
    return response()->json(['ok' => true]);
});

// –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –º–∞—Ä—à—Ä—É—Ç (–æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å)
Route::post('/bot/{token}', function ($token) {
    $botModel = Bot::byToken($token)->where('enabled', true)->first();
    
    if (!$botModel) {
        return response()->json(['error' => 'Bot not found'], 404);
    }
    
    // –ê–Ω–∞–ª–æ–≥–∏—á–Ω–∞—è –ª–æ–≥–∏–∫–∞...
});
```

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç `/webhook/{botName}`!**

## –®–∞–≥ 8: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞

### Nginx

```nginx
# –î–ª—è –≤—Å–µ—Ö webhook'–æ–≤ TegBot
location /webhook/ {
    try_files $uri $uri/ /index.php?$query_string;
    
    # –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–æ–≤ (–¥–ª—è –º–µ–¥–∏–∞)
    client_max_body_size 20M;
    
    # –¢–∞–π–º–∞—É—Ç—ã –¥–ª—è –¥–ª–∏—Ç–µ–ª—å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
    proxy_read_timeout 30s;
    proxy_connect_timeout 5s;
    
    # –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞ —Ç–æ–ª—å–∫–æ –¥–ª—è Telegram IP
    allow 149.154.160.0/20;
    allow 91.108.4.0/22;
    deny all;
}
```

### Apache

```apache
<LocationMatch "^/webhook/">
    # –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º –ª–∏–º–∏—Ç—ã –¥–ª—è –º–µ–¥–∏–∞ —Ñ–∞–π–ª–æ–≤
    LimitRequestBody 20971520
    
    # –¢–∞–π–º–∞—É—Ç—ã
    ProxyTimeout 30
    
    # –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞
    Require ip 149.154.160.0/20
    Require ip 91.108.4.0/22
</LocationMatch>
```

## –®–∞–≥ 9: –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è –≤—Å–µ—Ö –±–æ—Ç–æ–≤
php artisan teg:health

# –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –±–æ—Ç–æ–≤
php artisan teg:bot list

# –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º –±–æ—Ç–µ
php artisan teg:bot show myshop

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–æ—Ç–∞
php artisan teg:bot test myshop
```

### –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–¥–æ—Ä–æ–≤—å—è:

```
üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –º—É–ª—å—Ç–∏–±–æ—Ç–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã TegBot

‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ
‚úÖ –¢–∞–±–ª–∏—Ü–∞ –±–æ—Ç–æ–≤: –ù–∞–π–¥–µ–Ω–∞ (3 –±–æ—Ç–∞)
‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è: –ù–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

ü§ñ –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–æ—Ç–æ–≤:
  ‚úÖ myshop (@myshopbot): –ê–∫—Ç–∏–≤–µ–Ω, webhook —Ä–∞–±–æ—Ç–∞–µ—Ç
  ‚úÖ news (@newsbot): –ê–∫—Ç–∏–≤–µ–Ω, webhook —Ä–∞–±–æ—Ç–∞–µ—Ç  
  ‚ùå support (@supportbot): –û—Ç–∫–ª—é—á–µ–Ω

üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:
  ‚Ä¢ –í—Å–µ–≥–æ –±–æ—Ç–æ–≤: 3
  ‚Ä¢ –ê–∫—Ç–∏–≤–Ω—ã—Ö: 2
  ‚Ä¢ –û—Ç–∫–ª—é—á–µ–Ω–Ω—ã—Ö: 1
```

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–æ—Ç–∞–º–∏

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –±–æ—Ç–∞
php artisan teg:set

# –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –±–æ—Ç–æ–≤
php artisan teg:bot list

# –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–æ—Ç–µ
php artisan teg:bot show myshop

# –ê–∫—Ç–∏–≤–∞—Ü–∏—è –±–æ—Ç–∞
php artisan teg:bot enable myshop

# –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –±–æ—Ç–∞
php artisan teg:bot disable myshop

# –£–¥–∞–ª–µ–Ω–∏–µ –±–æ—Ç–∞
php artisan teg:bot delete myshop

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–æ—Ç–∞
php artisan teg:bot test myshop
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ webhook'–∞–º–∏

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ webhook –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –±–æ—Ç–∞
php artisan teg:webhook info myshop

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ webhook –¥–ª—è –±–æ—Ç–∞
php artisan teg:webhook set myshop https://yourdomain.com/webhook/myshop

# –£–¥–∞–ª–µ–Ω–∏–µ webhook
php artisan teg:webhook delete myshop
```

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å ngrok

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ ngrok
npm install -g ngrok

# –ó–∞–ø—É—Å–∫ —Ç—É–Ω–Ω–µ–ª—è
ngrok http 8000

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ webhook –Ω–∞ ngrok URL –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –±–æ—Ç–∞
php artisan teg:webhook set myshop https://your-ngrok-url.ngrok.io/webhook/myshop
```

### –û—Ç–ª–∞–¥–∫–∞

–í `.env` –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:

```env
TEGBOT_DEBUG=true
TEGBOT_LOG_LEVEL=debug
TEGBOT_LOG_MULTIBOT=true
LOG_LEVEL=debug
```

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

1. **HTTPS**: Webhook –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å —Ç–æ–ª—å–∫–æ –ø–æ HTTPS
2. **SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç**: –í–∞–ª–∏–¥–Ω—ã–π SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω  
3. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏–Ω–¥–µ–∫—Å–æ–≤ –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
4. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: –†–µ–≥—É–ª—è—Ä–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–¥–æ—Ä–æ–≤—å—è –±–æ—Ç–æ–≤
5. **Backup**: –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –±–æ—Ç–æ–≤

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

```env
# –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –±–æ—Ç–∞—Ö
TEGBOT_CACHE_BOT_INFO=true
TEGBOT_CACHE_BOT_INFO_TTL=3600

# –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
TEGBOT_AUTO_UPDATE_WEBHOOKS=false
TEGBOT_STORE_COMMANDS_HISTORY=false
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –±–æ—Ç–æ–≤

```bash
# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ (–≤ cron)
# –ö–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç
*/5 * * * * cd /path/to/your/project && php artisan teg:health --no-interaction

# –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
0 9 * * * cd /path/to/your/project && php artisan teg:stats --period=24h
```

## –ú–∏–≥—Ä–∞—Ü–∏—è —Å TegBot v1.x

‚ö†Ô∏è **–í–ù–ò–ú–ê–ù–ò–ï: TegBot v2.0 –ù–ï –∏–º–µ–µ—Ç –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏!**

### –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å:

1. **–¢–æ–∫–µ–Ω—ã**: –ë–æ–ª—å—à–µ –Ω–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ `.env`, —Ç–æ–ª—å–∫–æ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
2. **–ú–∞—Ä—à—Ä—É—Ç—ã**: `/webhook/{botName}` –≤–º–µ—Å—Ç–æ –æ–¥–Ω–æ–≥–æ –º–∞—Ä—à—Ä—É—Ç–∞
3. **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**: –ß–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—ã artisan, –∞ –Ω–µ —Ñ–∞–π–ª—ã
4. **–ö–ª–∞—Å—Å—ã –±–æ—Ç–æ–≤**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è

### –ü—Ä–æ—Ü–µ—Å—Å –º–∏–≥—Ä–∞—Ü–∏–∏:

1. –û–±–Ω–æ–≤–∏—Ç–µ –ø–∞–∫–µ—Ç: `composer update tegbot/tegbot`
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏: `php artisan migrate`
3. –î–æ–±–∞–≤—å—Ç–µ –≤–∞—à–∏ –±–æ—Ç—ã –∑–∞–Ω–æ–≤–æ: `php artisan teg:set`
4. –ü–µ—Ä–µ–Ω–µ—Å–∏—Ç–µ –ª–æ–≥–∏–∫—É –∏–∑ —Å—Ç–∞—Ä—ã—Ö –∫–ª–∞—Å—Å–æ–≤ –≤ –Ω–æ–≤—ã–µ
5. –û–±–Ω–æ–≤–∏—Ç–µ webhook'–∏

## –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: "–¢–∞–±–ª–∏—Ü–∞ tegbot_bots –Ω–µ –Ω–∞–π–¥–µ–Ω–∞"

```bash
# –ó–∞–ø—É—Å–∫ –º–∏–≥—Ä–∞—Ü–∏–π
php artisan migrate

# –ï—Å–ª–∏ –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
php artisan vendor:publish --provider="Teg\Providers\TegbotServiceProvider" --force
php artisan migrate
```

### –ü—Ä–æ–±–ª–µ–º–∞: Webhook –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –±–æ—Ç–∞
php artisan teg:bot test myshop

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ webhook
curl -I https://yourdomain.com/webhook/myshop

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
tail -f storage/logs/laravel.log | grep TegBot
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ë–æ—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω

```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –±–æ—Ç –∞–∫—Ç–∏–≤–µ–Ω
php artisan teg:bot show myshop

# –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –±–æ—Ç–∞ –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
php artisan teg:bot enable myshop

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –∫–ª–∞—Å—Å –±–æ—Ç–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
ls -la app/Bots/
```

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏–∑—É—á–∏—Ç–µ:

- [ü§ñ –ú—É–ª—å—Ç–∏–±–æ—Ç–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞](multibot.md) - –ø–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –Ω–æ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
- [‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è](configuration.md) - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–∏—Å—Ç–µ–º—ã
- [üéØ –°–∏—Å—Ç–µ–º–∞ –∫–æ–º–∞–Ω–¥](commands.md) - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–æ—Ç–∞–º–∏
- [üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å](security.md) - –∑–∞—â–∏—Ç–∞ –±–æ—Ç–æ–≤
- [üì± –û–±—Ä–∞–±–æ—Ç–∫–∞ –º–µ–¥–∏–∞](media.md) - —Ä–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–∞–º–∏

## –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –°–æ—Å—Ç–æ—è–Ω–∏–µ –≤—Å–µ—Ö –±–æ—Ç–æ–≤
php artisan teg:health

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã  
php artisan teg:stats

# –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
php artisan teg:config show

# –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –±–æ—Ç–æ–≤
php artisan teg:migrate backup

# –û—á–∏—Å—Ç–∫–∞ –ª–æ–≥–æ–≤
php artisan teg:logs clear
```

---

‚úÖ **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ TegBot v2.0 –∑–∞–≤–µ—Ä—à–µ–Ω–∞!** –í–∞—à–∞ –º—É–ª—å—Ç–∏–±–æ—Ç–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ. 
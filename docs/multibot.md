# ü§ñ TegBot v2.0 - –ú—É–ª—å—Ç–∏–±–æ—Ç–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

## –û–±–∑–æ—Ä

**TegBot v2.0** –æ—Å–Ω–æ–≤–∞–Ω –Ω–∞ —Ä–µ–≤–æ–ª—é—Ü–∏–æ–Ω–Ω–æ–π –º—É–ª—å—Ç–∏–±–æ—Ç–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ, –ø–æ–∑–≤–æ–ª—è—é—â–µ–π —É–ø—Ä–∞–≤–ª—è—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º Telegram –±–æ—Ç–æ–≤ –∏–∑ –æ–¥–Ω–æ–≥–æ Laravel –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –≠—Ç–æ –Ω–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è, –∞ –æ—Å–Ω–æ–≤–∞ –≤—Å–µ–π —Å–∏—Å—Ç–µ–º—ã v2.0.

‚ö†Ô∏è **–í–ê–ñ–ù–û:** TegBot v2.0 –ù–ï —Å–æ–≤–º–µ—Å—Ç–∏–º —Å v1.x. –≠—Ç–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞.

## –ö–ª—é—á–µ–≤—ã–µ —Ä–µ–≤–æ–ª—é—Ü–∏–æ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

- üóÑÔ∏è **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∫–∞–∫ –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã**: –í—Å—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–æ—Ç–æ–≤ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –ë–î
- üö´ **–ö–æ–Ω–µ—Ü .env —Ç–æ–∫–µ–Ω–æ–≤**: –¢–æ–∫–µ–Ω—ã –±–æ–ª—å—à–µ –Ω–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ —Ñ–∞–π–ª–∞—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- üéØ **–û–¥–∏–Ω –ø—Ä–æ–µ–∫—Ç = –º–Ω–æ–∂–µ—Å—Ç–≤–æ –±–æ—Ç–æ–≤**: –ù–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–æ—Ç–æ–≤ –≤ –æ–¥–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
- üîê **–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –ö–∞–∂–¥—ã–π –±–æ—Ç –∏–º–µ–µ—Ç —Å–≤–æ–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- üåê **–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ webhook**: URL –≤–∏–¥–∞ `/webhook/{botName}` –≤–º–µ—Å—Ç–æ `/bot/{token}`
- üéõÔ∏è **–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**: –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å —á–µ—Ä–µ–∑ artisan –∫–æ–º–∞–Ω–¥—ã
- üìä **–†–∞–∑–¥–µ–ª—å–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∏ –º–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –±–æ—Ç–∞

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã

### 1. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∫–∞–∫ –µ–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã

```sql
-- –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –≤—Å–µ—Ö –±–æ—Ç–æ–≤
CREATE TABLE tegbot_bots (
    id BIGINT PRIMARY KEY,
    name VARCHAR(255) UNIQUE,        -- –£–Ω–∏–∫–∞–ª—å–Ω–æ–µ –∏–º—è –±–æ—Ç–∞
    token VARCHAR(255) UNIQUE,       -- –¢–æ–∫–µ–Ω –æ—Ç BotFather
    username VARCHAR(255),           -- Username (@mybotname)
    first_name VARCHAR(255),         -- –û—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–µ –∏–º—è
    description TEXT,                -- –û–ø–∏—Å–∞–Ω–∏–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è
    bot_id BIGINT UNIQUE,           -- ID –≤ Telegram
    enabled BOOLEAN DEFAULT TRUE,    -- –°—Ç–∞—Ç—É—Å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
    webhook_url VARCHAR(255),        -- URL –¥–ª—è webhook
    webhook_secret VARCHAR(255),     -- –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π —Å–µ–∫—Ä–µ—Ç
    settings JSON,                   -- –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
    admin_ids JSON,                  -- –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã –±–æ—Ç–∞
    created_at TIMESTAMP,
    updated_at TIMESTAMP
);
```

### 2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª–∞—Å—Å–æ–≤

–ö–∞–∂–¥—ã–π –±–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞–µ—Ç —Å–≤–æ–π –∫–ª–∞—Å—Å:

```php
<?php
// app/Bots/ShopBot.php - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è
namespace App\Bots;

use Teg\LightBot;

class ShopBot extends LightBot
{
    public function main(): void
    {
        $this->commands();
        
        if ($this->hasMessageText() && $this->isMessageCommand()) {
            $this->handleCommand($this->getMessageText);
        } else {
            $this->fallback();
        }
    }

    public function commands(): void
    {
        $this->registerCommand('start', function () {
            $this->sendSelf('üõçÔ∏è –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –º–∞–≥–∞–∑–∏–Ω!');
        }, ['description' => '–ó–∞–ø—É—Å–∫ –±–æ—Ç–∞']);

        $this->registerCommand('catalog', function () {
            $this->showCatalog();
        }, ['description' => '–ü–æ–∫–∞–∑–∞—Ç—å –∫–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤']);
    }

    public function fallback(): void
    {
        $this->sendSelf('‚ùì –ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ /help.');
    }
}
```

### 3. –°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è

```php
// routes/tegbot.php - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è
Route::post('/webhook/{botName}', function ($botName) {
    // –ó–∞–≥—Ä—É–∑–∫–∞ –±–æ—Ç–∞ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
    $botModel = Bot::byName($botName)->where('enabled', true)->first();
    
    if (!$botModel) {
        return response()->json(['error' => 'Bot not found'], 404);
    }

    // –°–æ–∑–¥–∞–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –∫–ª–∞—Å—Å–∞
    $class = $botModel->getBotClass(); // App\Bots\ShopBot
    $bot = new $class();
    
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å –¥–∞–Ω–Ω—ã–º–∏ –∏–∑ –ë–î
    $bot->setToken($botModel->token);
    $bot->setBotName($botName);
    $bot->setBotModel($botModel);
    
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–∞
    return response()->json(['ok' => true]);
});
```

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç —Å –Ω—É–ª—è

### –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ TegBot v2.0

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–∞
composer require tegbot/tegbot

# –ü—É–±–ª–∏–∫–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏ –º–∞—Ä—à—Ä—É—Ç–æ–≤
php artisan vendor:publish --provider="Teg\Providers\TegbotServiceProvider"

# –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
php artisan migrate
```

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```env
# .env - –ù–ï –°–û–î–ï–†–ñ–ò–¢ –¢–û–ö–ï–ù–û–í –ë–û–¢–û–í!
TEGBOT_MULTIBOT_ENABLED=true
TEGBOT_AUTO_CREATE_CLASSES=true
TEGBOT_WEBHOOK_BASE_URL=https://yourdomain.com
TEGBOT_WEBHOOK_SECRET=your_global_secret_32_chars
```

### –®–∞–≥ 3: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ –±–æ—Ç–∞

```bash
php artisan teg:set
```

**–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å –¥–æ–±–∞–≤–ª–µ–Ω–∏—è:**

```
üöÄ TegBot v2.0 Multi-Bot Setup Wizard

üìã –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –±–æ—Ç—ã: (–ø—É—Å—Ç–æ)

‚ûï –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –±–æ—Ç–∞

–í–≤–µ–¥–∏—Ç–µ –∏–º—è –±–æ—Ç–∞ (–ª–∞—Ç–∏–Ω—Å–∫–∏–µ –±—É–∫–≤—ã, –±–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤): shop
–í–≤–µ–¥–∏—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ (–ø–æ–ª—É—á–µ–Ω–Ω—ã–π –æ—Ç @BotFather): 123456789:AABBccDDeeFFggHHiiJJ...
–í–≤–µ–¥–∏—Ç–µ ID –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é): 123456789

üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞ —á–µ—Ä–µ–∑ Telegram API...
‚úÖ –¢–æ–∫–µ–Ω –≤–∞–ª–∏–¥–µ–Ω

ü§ñ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–æ—Ç–µ:
  üìù –ò–º—è: My Shop Bot  
  üÜî Username: @myshopbot
  üì° ID: 123456789
  üìÑ –û–ø–∏—Å–∞–Ω–∏–µ: (–º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–∑–∂–µ)

‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö...
‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∞—Å—Å–∞: app/Bots/ShopBot.php
üåê –ù–∞—Å—Ç—Ä–æ–π–∫–∞ webhook: https://yourdomain.com/webhook/shop
‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ webhook –≤ Telegram

üéâ –ë–æ—Ç 'shop' —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ!

üìã –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:
  ‚Ä¢ –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ app/Bots/ShopBot.php –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ª–æ–≥–∏–∫–∏
  ‚Ä¢ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É: php artisan teg:bot test shop
  ‚Ä¢ –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —Å—Ç–∞—Ç—É—Å: php artisan teg:health
```

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã
php artisan teg:health

# –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –±–æ—Ç–æ–≤
php artisan teg:bot list

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –±–æ—Ç–∞
php artisan teg:bot test shop
```

## –ü–æ–ª–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—ã

### –ë–∞–∑–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –±–æ—Ç–∞–º–∏

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –±–æ—Ç–∞
php artisan teg:set

# –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞
php artisan teg:bot list --format=table

# –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
php artisan teg:bot show shop

# –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
php artisan teg:bot enable shop     # –ê–∫—Ç–∏–≤–∞—Ü–∏—è
php artisan teg:bot disable shop    # –î–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è
php artisan teg:bot delete shop     # –£–¥–∞–ª–µ–Ω–∏–µ (—Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º)

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
php artisan teg:bot test shop       # –ü–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –±–æ—Ç–∞
php artisan teg:health --bot=shop   # –ó–¥–æ—Ä–æ–≤—å–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –±–æ—Ç–∞
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –±–æ—Ç–æ–≤

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –Ω–∞—Å—Ç—Ä–æ–µ–∫ –±–æ—Ç–∞
php artisan teg:bot show shop

# –ò–∑–º–µ–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫
php artisan teg:bot config shop --setting=language --value=en
php artisan teg:bot config shop --setting=timezone --value="Europe/London"
php artisan teg:bot config shop --setting=features --value='["payments","inline"]'

# –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º–∏
php artisan teg:bot admin shop --add=987654321
php artisan teg:bot admin shop --remove=111222333
php artisan teg:bot admin shop --list
```

### Webhook –æ–ø–µ—Ä–∞—Ü–∏–∏

```bash
# –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ webhook
php artisan teg:webhook info shop

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ webhook  
php artisan teg:webhook set shop
php artisan teg:webhook set shop https://custom-domain.com/webhook/shop

# –£–¥–∞–ª–µ–Ω–∏–µ webhook
php artisan teg:webhook delete shop

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ webhook
php artisan teg:webhook test shop
```

## –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### E-commerce —ç–∫–æ—Å–∏—Å—Ç–µ–º–∞

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –Ω–∞–±–æ—Ä–∞ –±–æ—Ç–æ–≤ –¥–ª—è –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–∞
php artisan teg:set  # shop - –æ—Å–Ω–æ–≤–Ω–æ–π –º–∞–≥–∞–∑–∏–Ω
php artisan teg:set  # support - —Å–ª—É–∂–±–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏  
php artisan teg:set  # analytics - –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤
php artisan teg:set  # notifications - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –∑–∞–∫–∞–∑–∞—Ö
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
app/Bots/
‚îú‚îÄ‚îÄ ShopBot.php          # –ö–∞—Ç–∞–ª–æ–≥, –∑–∞–∫–∞–∑—ã, –ø–ª–∞—Ç–µ–∂–∏
‚îú‚îÄ‚îÄ SupportBot.php       # –¢–∏–∫–µ—Ç—ã, FAQ, —Å–≤—è–∑—å —Å –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞–º–∏  
‚îú‚îÄ‚îÄ AnalyticsBot.php     # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–¥–∞–∂, –æ—Ç—á–µ—Ç—ã
‚îî‚îÄ‚îÄ NotificationsBot.php # –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö –∑–∞–∫–∞–∑–∞—Ö
```

**Webhook endpoints:**
```
https://yourdomain.com/webhook/shop
https://yourdomain.com/webhook/support  
https://yourdomain.com/webhook/analytics
https://yourdomain.com/webhook/notifications
```

### –ú–µ–¥–∏–∞-–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –±–æ—Ç–æ–≤ –¥–ª—è –Ω–æ–≤–æ—Å—Ç–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
php artisan teg:set  # news_ru - —Ä—É—Å—Å–∫–∏–µ –Ω–æ–≤–æ—Å—Ç–∏
php artisan teg:set  # news_en - –∞–Ω–≥–ª–∏–π—Å–∫–∏–µ –Ω–æ–≤–æ—Å—Ç–∏
php artisan teg:set  # breaking - —ç–∫—Å—Ç—Ä–µ–Ω–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–∏
php artisan teg:set  # weather - –ø–æ–≥–æ–¥–Ω—ã–π –±–æ—Ç
```

### –ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞

```bash
# –ë–æ—Ç—ã –¥–ª—è –∫–æ–º–ø–∞–Ω–∏–∏
php artisan teg:set  # hr - HR –æ—Ç–¥–µ–ª, –≤–∞–∫–∞–Ω—Å–∏–∏
php artisan teg:set  # it_support - —Ç–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–∞
php artisan teg:set  # announcements - –æ–±—ä—è–≤–ª–µ–Ω–∏—è
php artisan teg:set  # booking - –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–≥–æ–≤–æ—Ä–æ–∫
```

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### –°–∏—Å—Ç–µ–º–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

```bash
php artisan teg:health
```

**–ü–æ–¥—Ä–æ–±–Ω—ã–π –≤—ã–≤–æ–¥ –¥–ª—è –º—É–ª—å—Ç–∏–±–æ—Ç–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã:**

```
üîç TegBot v2.0 Multi-Bot System Health Check

‚úÖ –°–∏—Å—Ç–µ–º–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
  ‚úÖ PHP 8.2.0 (requirement: 8.1+)
  ‚úÖ Laravel 10.48.4 (requirement: 10.0+) 
  ‚úÖ Database: MySQL 8.0.32 (15ms connection)
  ‚úÖ Redis: 6.2.6 (2ms connection)
  ‚úÖ Storage: 15.2GB / 50GB (30% used)
  ‚úÖ Memory: 127MB / 2GB (6% used)

‚úÖ TegBot Infrastructure:
  ‚úÖ Multibot system: Enabled
  ‚úÖ Bot storage table: tegbot_bots (found)
  ‚úÖ Auto class creation: Enabled
  ‚úÖ Webhook base URL: https://yourdomain.com
  ‚úÖ Global webhook secret: Configured (32 chars)

ü§ñ Bot Registry (4 active, 1 disabled):

  ‚úÖ shop (@myshopbot) - E-commerce
    ‚îú‚îÄ Status: üü¢ Active
    ‚îú‚îÄ Class: ‚úÖ App\Bots\ShopBot
    ‚îú‚îÄ Telegram API: ‚úÖ Valid (142ms)
    ‚îú‚îÄ Webhook: ‚úÖ https://yourdomain.com/webhook/shop  
    ‚îú‚îÄ Secret: ‚úÖ Individual webhook secret
    ‚îú‚îÄ Admins: üë• 2 configured
    ‚îî‚îÄ Settings: üìã 5 custom parameters

  ‚úÖ support (@supportbot) - Customer Service  
    ‚îú‚îÄ Status: üü¢ Active
    ‚îú‚îÄ Class: ‚úÖ App\Bots\SupportBot
    ‚îú‚îÄ Telegram API: ‚úÖ Valid (156ms)
    ‚îú‚îÄ Webhook: ‚úÖ https://yourdomain.com/webhook/support
    ‚îú‚îÄ Secret: ‚úÖ Individual webhook secret  
    ‚îú‚îÄ Admins: üë• 3 configured
    ‚îî‚îÄ Settings: üìã 7 custom parameters

  ‚úÖ analytics (@analyticsbot) - Business Intelligence
    ‚îú‚îÄ Status: üü¢ Active  
    ‚îú‚îÄ Class: ‚úÖ App\Bots\AnalyticsBot
    ‚îú‚îÄ Telegram API: ‚úÖ Valid (134ms)
    ‚îú‚îÄ Webhook: ‚úÖ https://yourdomain.com/webhook/analytics
    ‚îú‚îÄ Secret: ‚úÖ Individual webhook secret
    ‚îú‚îÄ Admins: üë• 1 configured (admins only)
    ‚îî‚îÄ Settings: üìã 3 custom parameters

  ‚úÖ notifications (@notifybot) - Order Alerts
    ‚îú‚îÄ Status: üü¢ Active
    ‚îú‚îÄ Class: ‚úÖ App\Bots\NotificationsBot  
    ‚îú‚îÄ Telegram API: ‚úÖ Valid (128ms)
    ‚îú‚îÄ Webhook: ‚úÖ https://yourdomain.com/webhook/notifications
    ‚îú‚îÄ Secret: ‚úÖ Individual webhook secret
    ‚îú‚îÄ Admins: üë• 2 configured
    ‚îî‚îÄ Settings: üìã 4 custom parameters

  ‚ö†Ô∏è  weather (@weatherbot) - Weather Service
    ‚îú‚îÄ Status: üî¥ Disabled (maintenance)
    ‚îú‚îÄ Class: ‚úÖ App\Bots\WeatherBot
    ‚îú‚îÄ Telegram API: ‚è∏Ô∏è Skipped (bot disabled)
    ‚îú‚îÄ Webhook: ‚ùå Not configured  
    ‚îú‚îÄ Secret: ‚úÖ Individual webhook secret
    ‚îú‚îÄ Admins: üë• 1 configured
    ‚îî‚îÄ Settings: üìã 2 custom parameters

üìä Performance Metrics (last 24h):
  ‚Ä¢ Total messages processed: 15,247
  ‚Ä¢ Average response time: 145ms
  ‚Ä¢ Success rate: 99.2%
  ‚Ä¢ Peak concurrent users: 342
  ‚Ä¢ Webhook delivery success: 99.8%

üîß Recommendations:
  ‚ö†Ô∏è  Enable weather bot for full service coverage
  üí° Consider Redis cache for better performance (file cache detected)
  üìà Queue system recommended for high load (disabled)

üéØ Overall Status: ‚úÖ HEALTHY (4/5 bots operational)
```

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –±–æ—Ç–∞–º

```bash
php artisan teg:stats --period=24h --detailed
```

```
üìä TegBot v2.0 Multi-Bot Statistics (24h)

üèÜ Top Performing Bots:
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Bot         ‚îÇ Messages  ‚îÇ Users  ‚îÇ Commands‚îÇ Errors   ‚îÇ Avg Response‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ shop        ‚îÇ 8,453     ‚îÇ 1,247  ‚îÇ 2,156   ‚îÇ 12 (0.1%)‚îÇ 142ms       ‚îÇ
‚îÇ support     ‚îÇ 4,892     ‚îÇ 523    ‚îÇ 891     ‚îÇ 3 (0.1%) ‚îÇ 156ms       ‚îÇ
‚îÇ analytics   ‚îÇ 1,567     ‚îÇ 23     ‚îÇ 445     ‚îÇ 0 (0%)   ‚îÇ 89ms        ‚îÇ
‚îÇ notifications‚îÇ 335      ‚îÇ 89     ‚îÇ 0       ‚îÇ 1 (0.3%) ‚îÇ 67ms        ‚îÇ
‚îÇ weather     ‚îÇ 0 (disabled)‚îÇ 0     ‚îÇ 0       ‚îÇ 0        ‚îÇ -           ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

üí¨ Most Popular Commands:
1. /start (shop) - 1,847 calls
2. /catalog (shop) - 892 calls  
3. /help (support) - 456 calls
4. /order (shop) - 334 calls
5. /status (support) - 289 calls

üë• User Distribution:
‚Ä¢ Total unique users: 1,882
‚Ä¢ New users today: 156
‚Ä¢ Returning users: 1,726  
‚Ä¢ Multi-bot users: 342 (18%)

üö® Error Analysis:
‚Ä¢ API timeouts: 8 cases (resolved)
‚Ä¢ Invalid commands: 6 cases
‚Ä¢ Webhook delivery failures: 2 cases  
‚Ä¢ Rate limit hits: 1 case
```

## –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ—Ç–æ–≤

```php
// –ò–∑–º–µ–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –±–æ—Ç–∞ –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
$bot = Bot::byName('shop')->first();

$bot->update([
    'settings' => array_merge($bot->settings ?? [], [
        'maintenance_mode' => true,
        'maintenance_message' => '–ú–∞–≥–∞–∑–∏–Ω –≤—Ä–µ–º–µ–Ω–Ω–æ –∑–∞–∫—Ä—ã—Ç –Ω–∞ —Ç–µ—Ö–æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ',
        'estimated_downtime' => '2024-12-16 02:00:00'
    ])
]);
```

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–æ–±—ã—Ç–∏—è–º–∏

```php
// app/Providers/EventServiceProvider.php
use App\Models\Bot;

Bot::created(function ($bot) {
    // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ –±–æ—Ç–∞
    Log::info("New bot created: {$bot->name}");
    
    // –°–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π –¥–ª—è –±–æ—Ç–∞
    Storage::makeDirectory("bots/{$bot->name}");
    
    // –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
    Notification::send(
        User::whereIn('id', $bot->admin_ids)->get(),
        new BotCreatedNotification($bot)
    );
});

Bot::updated(function ($bot) {
    if ($bot->wasChanged('enabled')) {
        $status = $bot->enabled ? 'enabled' : 'disabled';
        Log::info("Bot {$bot->name} was {$status}");
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ webhook –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç–∞—Ç—É—Å–∞
        if ($bot->enabled) {
            $bot->setupWebhook();
        } else {
            $bot->removeWebhook();
        }
    }
});
```

### –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–æ—Ç–∞–º–∏

```php
// –°–æ–∑–¥–∞–Ω–∏–µ –±–æ—Ç–∞ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ
use App\Models\Bot;

$bot = Bot::create([
    'name' => 'automated_news',
    'token' => '123456789:AABBccDDeeFFggHH...',
    'username' => 'autonewsbot',
    'first_name' => 'Automated News Bot',
    'bot_id' => 123456789,
    'enabled' => true,
    'admin_ids' => [987654321],
    'settings' => [
        'auto_post' => true,
        'post_interval' => 3600, // –∫–∞–∂–¥—ã–π —á–∞—Å
        'categories' => ['tech', 'business'],
        'language' => 'ru',
        'timezone' => 'Europe/Moscow'
    ]
]);

// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∞—Å—Å–∞
$bot->createBotClass();

// –£—Å—Ç–∞–Ω–æ–≤–∫–∞ webhook
$bot->setupWebhook("https://yourdomain.com/webhook/{$bot->name}");
```

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –º—É–ª—å—Ç–∏–±–æ—Ç–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã

### –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ webhook —Å–µ–∫—Ä–µ—Ç—ã

```php
// –ö–∞–∂–¥—ã–π –±–æ—Ç –∏–º–µ–µ—Ç —Å–≤–æ–π —É–Ω–∏–∫–∞–ª—å–Ω—ã–π —Å–µ–∫—Ä–µ—Ç
$bot = Bot::find(1);
echo $bot->webhook_secret; // "sf8h3jk9dmq2kl5nv7x1c4p6..."

$anotherBot = Bot::find(2);  
echo $anotherBot->webhook_secret; // "k9m2x5n8q1v4c7p0sf3h6jl9..."
```

### –ò–∑–æ–ª—è—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π

```php
// –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –æ–¥–Ω–æ–≥–æ –±–æ—Ç–∞ –Ω–µ –≤–ª–∏—è—é—Ç –Ω–∞ –¥—Ä—É–≥–∏–µ
$shopBot = Bot::byName('shop')->first();
$shopBot->settings = [
    'payment_enabled' => true,
    'max_order_amount' => 100000
];

$supportBot = Bot::byName('support')->first();  
$supportBot->settings = [
    'working_hours' => ['9:00', '18:00'],
    'auto_assign' => true
];
```

### –†–∞–∑–¥–µ–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤

```php
// –£ –∫–∞–∂–¥–æ–≥–æ –±–æ—Ç–∞ —Å–≤–æ–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã
$shopBot->admin_ids = [123456789, 987654321];    // –≤–ª–∞–¥–µ–ª–µ—Ü + –º–µ–Ω–µ–¥–∂–µ—Ä
$supportBot->admin_ids = [987654321, 555666777]; // –º–µ–Ω–µ–¥–∂–µ—Ä + –æ–ø–µ—Ä–∞—Ç–æ—Ä
$analyticsBot->admin_ids = [123456789];          // —Ç–æ–ª—å–∫–æ –≤–ª–∞–¥–µ–ª–µ—Ü
```

## –ú–∏–≥—Ä–∞—Ü–∏—è –∏ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ü–æ–ª–Ω—ã–π —ç–∫—Å–ø–æ—Ä—Ç –≤—Å–µ—Ö –±–æ—Ç–æ–≤

```bash
php artisan teg:migrate export
```

```
üíæ TegBot v2.0 Multi-Bot Export

üìã Collecting bot data...
  ‚úÖ shop: Configuration, settings, admins
  ‚úÖ support: Configuration, settings, admins  
  ‚úÖ analytics: Configuration, settings, admins
  ‚úÖ notifications: Configuration, settings, admins
  ‚è∏Ô∏è  weather: Skipped (disabled)

üì¶ Creating backup archive...
  ‚Ä¢ Bot configurations: 4 entries
  ‚Ä¢ Custom settings: 19 parameters
  ‚Ä¢ Admin mappings: 8 unique admins
  ‚Ä¢ Webhook configurations: 4 endpoints
  ‚Ä¢ Class mappings: 4 bot classes

‚úÖ Export completed: storage/app/tegbot/multibot_backup_2024-12-15_163045.json
üìä Archive size: 23.4KB
‚è±Ô∏è  Export time: 0.7s

üí° Restore with: php artisan teg:migrate import multibot_backup_2024-12-15_163045.json
```

### –°–µ–ª–µ–∫—Ç–∏–≤–Ω—ã–π —ç–∫—Å–ø–æ—Ä—Ç

```bash
# –≠–∫—Å–ø–æ—Ä—Ç —Ç–æ–ª—å–∫–æ production –±–æ—Ç–æ–≤
php artisan teg:migrate export --enabled-only

# –≠–∫—Å–ø–æ—Ä—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –±–æ—Ç–æ–≤
php artisan teg:migrate export --bots=shop,support

# –≠–∫—Å–ø–æ—Ä—Ç —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
php artisan teg:migrate export --include-logs --include-stats
```

### –ò–º–ø–æ—Ä—Ç —Å –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏

```bash
php artisan teg:migrate import backup.json --validate --dry-run
```

```
üîç TegBot v2.0 Import Validation

üìÅ Reading backup: backup.json
‚úÖ File format: Valid TegBot v2.0 export
‚úÖ Bot count: 4 bots found
‚úÖ Token format: All tokens valid format
‚úÖ Name conflicts: No naming conflicts detected

üìã Import preview (DRY RUN):
  üÜï shop: Will be created (new bot)
  üîÑ support: Will be updated (exists, changes detected)
  üÜï analytics: Will be created (new bot)  
  ‚ö†Ô∏è  notifications: Will be skipped (disabled in backup)

üéØ Summary:
  ‚Ä¢ Will create: 2 bots
  ‚Ä¢ Will update: 1 bot  
  ‚Ä¢ Will skip: 1 bot
  ‚Ä¢ Estimated time: 3.2s

‚úÖ Validation passed! Run without --dry-run to execute.
```

## Troubleshooting

### –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

#### 1. –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è

```bash
# –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –±–æ—Ç–∞
php artisan teg:bot test shop

# –ü—Ä–æ–≤–µ—Ä–∫–∞ webhook
php artisan teg:webhook info shop

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
tail -f storage/logs/laravel.log | grep -i "shop\|webhook"
```

#### 2. –ö–ª–∞—Å—Å –±–æ—Ç–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –∫–ª–∞—Å—Å–∞
ls -la app/Bots/ShopBot.php

# –ü–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∞—Å—Å–∞
php artisan teg:bot regenerate-class shop
```

#### 3. –ü—Ä–æ–±–ª–µ–º—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∞–±–ª–∏—Ü—ã –±–æ—Ç–æ–≤
php artisan tinker
>>> DB::table('tegbot_bots')->count()
>>> DB::table('tegbot_bots')->where('enabled', true)->get()

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã
php artisan migrate:refresh --path=database/migrations/2025_01_01_000000_create_tegbot_bots_table.php
```

#### 4. –ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã webhook

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö webhook
php artisan teg:webhook info --all

# –ú–∞—Å—Å–æ–≤–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ  
for bot in $(php artisan teg:bot list --format=json | jq -r '.[].name'); do
    php artisan teg:webhook set $bot
done
```

### –û—Ç–ª–∞–¥–∫–∞ –º—É–ª—å—Ç–∏–±–æ—Ç–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã

```bash
# –í–∫–ª—é—á–µ–Ω–∏–µ –ø–æ–¥—Ä–æ–±–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
php artisan teg:config set logging.multibot_logs true
php artisan teg:config set logging.level debug

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
tail -f storage/logs/laravel.log | grep -E "(TegBot|webhook|multibot)"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
php artisan teg:stats --format=json | jq '.performance'
```

## –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

### –ò–º–µ–Ω–æ–≤–∞–Ω–∏–µ –∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è

```bash
# –•–æ—Ä–æ—à–∏–µ –∏–º–µ–Ω–∞ –±–æ—Ç–æ–≤
shop              # E-commerce –æ—Å–Ω–æ–≤–Ω–æ–π
shop_b2b          # B2B –≤–µ—Ä—Å–∏—è  
support_tier1     # –ü–µ—Ä–≤–∞—è –ª–∏–Ω–∏—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏
support_tier2     # –í—Ç–æ—Ä–∞—è –ª–∏–Ω–∏—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏
analytics_sales   # –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø—Ä–æ–¥–∞–∂
analytics_users   # –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

# –ü–ª–æ—Ö–∏–µ –∏–º–µ–Ω–∞
bot1, mybot, test, bot_2024_final_v2
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
app/Bots/
‚îú‚îÄ‚îÄ Core/
‚îÇ   ‚îú‚îÄ‚îÄ BaseShopBot.php      # –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –¥–ª—è –º–∞–≥–∞–∑–∏–Ω–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ BaseSupportBot.php   # –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏
‚îÇ   ‚îî‚îÄ‚îÄ BaseAnalyticsBot.php # –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
‚îú‚îÄ‚îÄ Shop/
‚îÇ   ‚îú‚îÄ‚îÄ ShopBot.php          # –û—Å–Ω–æ–≤–Ω–æ–π –º–∞–≥–∞–∑–∏–Ω
‚îÇ   ‚îî‚îÄ‚îÄ ShopB2bBot.php       # B2B –º–∞–≥–∞–∑–∏–Ω
‚îú‚îÄ‚îÄ Support/
‚îÇ   ‚îú‚îÄ‚îÄ SupportTier1Bot.php  # –ü–µ—Ä–≤–∞—è –ª–∏–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ SupportTier2Bot.php  # –í—Ç–æ—Ä–∞—è –ª–∏–Ω–∏—è
‚îî‚îÄ‚îÄ Analytics/
    ‚îú‚îÄ‚îÄ SalesAnalyticsBot.php  # –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø—Ä–æ–¥–∞–∂
    ‚îî‚îÄ‚îÄ UsersAnalyticsBot.php  # –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

```bash
# Cron –∑–∞–¥–∞—á–∏ –¥–ª—è –º—É–ª—å—Ç–∏–±–æ—Ç–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã
# –ö–∞–∂–¥—ã–µ 2 –º–∏–Ω—É—Ç—ã - –±—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
*/2 * * * * php artisan teg:health --quiet --alert-on-error

# –ö–∞–∂–¥—ã–µ 10 –º–∏–Ω—É—Ç - –ø—Ä–æ–≤–µ—Ä–∫–∞ webhook
*/10 * * * * php artisan teg:webhook test --all --quiet

# –ï–∂–µ—á–∞—Å–Ω–æ - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –æ—á–∏—Å—Ç–∫–∞  
0 * * * * php artisan teg:stats --store-metrics && php artisan teg:cache clean

# –ï–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ 3:00 - –ø–æ–ª–Ω—ã–π backup
0 3 * * * php artisan teg:migrate backup --auto --cleanup-days=30
```

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

TegBot v2.0 –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π —Ä–µ–≤–æ–ª—é—Ü–∏–æ–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ —Å–æ–∑–¥–∞–Ω–∏—é Telegram –±–æ—Ç–æ–≤:

üéØ **–û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**: –û—Ç –æ–¥–Ω–æ–≥–æ –¥–æ —Å–æ—Ç–µ–Ω –±–æ—Ç–æ–≤ –≤ –æ–¥–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ
- **–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–∞—Ü–∏—è**: –ï–¥–∏–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—Å–µ–π —ç–∫–æ—Å–∏—Å—Ç–µ–º–æ–π –±–æ—Ç–æ–≤  
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è –∏–∑–æ–ª—è—Ü–∏—è –∫–∞–∂–¥–æ–≥–æ –±–æ—Ç–∞
- **–ü—Ä–æ—Å—Ç–æ—Ç–∞**: –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö —Ä—É—Ç–∏–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: –ü–æ–ª–Ω–∞—è –≤–∏–¥–∏–º–æ—Å—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã

üöÄ **–ù–∞—á–Ω–∏—Ç–µ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å:**

```bash
php artisan teg:set  # –°–æ–∑–¥–∞—Ç—å –ø–µ—Ä–≤–æ–≥–æ –±–æ—Ç–∞
php artisan teg:health  # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–∏—Å—Ç–µ–º—É  
php artisan teg:stats   # –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
```

TegBot v2.0 - —ç—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ, —ç—Ç–æ **–Ω–æ–≤–∞—è —ç—Ä–∞** –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ Telegram –±–æ—Ç–æ–≤! 